
//#include <reg52.h>
#include "..\1head\0common.h"
#include "display.H"
#include "struct.h"
//#include "define.h"


uchar key = 1;
uchar Line = 0;

void initPort()
{
//	PRT1CF    = 0xFF;
//    PRT2CF    = 0xFF;
//    PRT3CF    = 0xFF;
    //XBR2      = 0x40;
    _nop_();
}

void delaym(unsigned int n)
{
	unsigned int i,j;
	for(j=n;j>0;j--)
	for(i=112;i>0;i--);
}                         /////// 精确MS?
void CheckBusy()
{
	delaym(1);
}


void CheckBusy_A()
{
		unsigned int PORT1VAL;

//	rs  =  0;         //指令
//	rw  =  1;
//	DB  =  0xff;      //输出0xff以便读取正确
//	lcd_en   =  1;
	ca();
	rs  =  0;         //指令
	rw  =  1;
	lcd_en   =  1;	
	DB  =  0xff;      //输出0xff以便读取正确
	lcd_en	 =	0;


	nca();
	DB  =  0xff;      //输出0xff以便读取正确

	_nop_();
	//printf("lcd display 33 \n");

	PORT1VAL = DB;
	//printf("lcd display DB %x \n", PORT1VAL);
	//while((DB & 0x80));       //Status Read BUSY Bit7 = 1 
	//printf("lcd display 44 \n");
	lcd_en   =  0;
	_nop_();
}


uchar ReadData()      ////////// 读数据
{
	uchar dat;
	rs  =  1;
	rw  =  1;
	DB  =  0xff;
	lcd_en  =  1;
	_nop_();
	dat = DB;
	lcd_en  =  0;
	_nop_();
	return dat;
}



void SendCommand(uchar com)     ////////// 发命令
{
	CheckBusy();
	DB  =  com;
	//CheckBusy();
	rs  =  0;
	//CheckBusy();
	rw  =  0;
	//CheckBusy();
	lcd_en  =  1;

	_nop_();
	lcd_en  =  0;
	//CheckBusy();
	_nop_();
}

void SendData(uchar dat)     ////////// 发命令
{
	CheckBusy();
	DB  =  dat;
	//CheckBusy();
	rs  =  1;
	//CheckBusy();
	rw  =  0;
	//CheckBusy();
	lcd_en  =  1;
	//CheckBusy();
	_nop_();
	//CheckBusy();
	lcd_en  =  0;
	//CheckBusy();
	_nop_();
}

void inti()
{
	ca();
	//printf("lcd display 22 \n");
	SendCommand(S_LINE);
	//printf("lcd display 11 \n");
	SendCommand(COL);	
	SendCommand(PAGE);
	SendCommand(DISON);
}

void ScanKey()
{
	while(key)
	{
		delaym(50);
	 };
	while(!key)
	{
		delaym(20);
	}
}

void LCDFill(uchar dat1,dat2)       //////////////// 全半屏幕显示 //////////////
{
	uchar i,j;	
	ca();
	SendCommand(COL);
	SendCommand(PAGE);
	for(j=1;j<9;j++)
		{
		for(i=0;i<64;i++)
			{
			SendData(dat1);
			SendData(dat2);
			};
		SendCommand(PAGE+j);
		};
}

void PutBmp(uchar *p)
{
	uchar i,j;
	uint  k=0;
	for(j=0;j<8;j++)
		{
		SendCommand(COL);
		SendCommand(PAGE+j);
		cl();
		for(i=0;i<64;i++)
			{
			SendData(*(p+k));
			k++;
			};
		cr();
		for(i=0;i<64;i++)
			{
			SendData(*(p+k));
			k++;
			};
		ca();
		};
}

void Window()
{
	uchar j;
	LCDFill(0x00,0x00);
	for(j=0;j<8;j++)
		{
		SendCommand(PAGE+j);
		cl();
		SendCommand(COL);
		SendData(0xff);
		cr();
		SendCommand(COL+63);
		SendData(0xff);
		ca();
		};

	for(j=0;j<63;j++)
		{
		SendCommand(PAGE);
		cl();
		SendCommand(COL+1+j);
		SendData(0x01);
		cr();
		SendCommand(COL+j);
		SendData(0x01);
		ca();
		SendCommand(PAGE+7);
		cl();
		SendCommand(COL+1+j);
		SendData(0x80);
		cr();
		SendCommand(COL+j);
		SendData(0x80);
		ca();
		};
}

void CPUinti()
{
	TMOD=0x01;
	TH0=0x3c;
	TL0=0xb0;
	TR0=1;
	EA=1;
	ET0=1;
}

void LCDRoll()
{
	CPUinti();
	ScanKey();
	TR0=0;
	SendCommand(S_LINE);
}	

void Lcd_init()
{
	
	delaym(20);
	initPort();
	inti();
}
void LcdDisplay()
{
	//Lcd_init();
	printf("lcd main 11 ========\n");
	LCDFill(0x00,0xFF);
	printf("lcd fill end\n");
	delaym(5000);
	LCDFill(0x55,0x55);
	delaym(5000);
	LCDFill(0xaa,0xaa);
	delaym(5000);
	LCDFill(0xff,0x00);
/*
	LCDFill(0x55,0x55);
	ScanKey();
	LCDFill(0xaa,0xaa);
	ScanKey();
	LCDFill(0x00,0xff);
	ScanKey();
	LCDFill(0xff,0x00);
	ScanKey();
	Window();
	ScanKey();	   
	*/
	PutBmp(zifu);
	delaym(5000);

	//printf("lcd main 22 ========\n");
	//ScanKey();
	PutBmp(fm);
	delaym(5000);
	//ScanKey();
	PutBmp(qzd);
	delaym(5000);
	//ScanKey();
	//LCDRoll();
	//delaym(5000);
	//printf("lcd main 44 ========\n");
	

}

void timer() interrupt 1            ///////////中断入口
{
	Line++;
	if(Line>63)
		{
		Line=0;
		};
	SendCommand(S_LINE+Line);
	TH0=0x00;
	TL0=0xb0;
}

uchar code fm[]={
/*--  调入了一幅图像：C:\Documents and Settings\Administrator\桌面\3.bmp  --*/
/*--  宽度x高度=128x64  --*/
0xFF,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x21,0x41,0x81,0x01,0x01,0xE1,0x41,0x41,0x41,0x41,
0x41,0xC1,0x41,0x41,0x01,0x01,0x01,0x01,0xE1,0x21,0x01,0x01,0x01,0xE1,0x01,0x01,
0xC1,0x01,0x01,0xE1,0x21,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x82,0x8C,0x70,0x0E,0x11,0x19,0x14,0xD2,0x33,0xFC,0x31,
0xD1,0x93,0x16,0x10,0x00,0x00,0x02,0x02,0xFF,0x82,0x82,0x42,0xE0,0x1F,0x00,0x00,
0xFF,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x00,0x04,0x02,0x02,0x01,0x00,0x00,0x0F,0x00,
0x00,0x01,0x03,0x02,0x00,0x00,0x01,0x01,0x00,0x08,0x04,0x02,0x01,0x00,0x00,0x00,
0x01,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x08,0x88,0xBE,0xA8,0xE8,0xBE,0x88,0x88,0x00,0x40,0xFE,0x40,0x40,0x40,0xC0,0x00,
0x00,0x00,0x08,0x08,0x88,0x08,0x08,0x08,0xF8,0x08,0x08,0x08,0x08,0x08,0x0C,0x00,
0x00,0x00,0x80,0x80,0x84,0x88,0x00,0x40,0x40,0x40,0xC0,0x7C,0x40,0x40,0x40,0x20,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0x8B,0xAA,0xAA,0x7F,0xAA,0xAA,0xD7,0x40,0x30,0x0F,0x80,0x80,0xFC,0x03,0x00,
0x00,0x00,0x80,0x80,0xFF,0x80,0x80,0x80,0xFF,0x82,0x82,0x82,0x82,0x81,0x80,0x80,
0x00,0x00,0x40,0x20,0x1F,0x20,0x60,0x90,0x88,0x84,0x83,0x82,0x82,0x84,0x88,0x90,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x81,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0x80,0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0x24,
0x24,0x24,0x24,0xFF,0x24,0x24,0x24,0x24,0xFE,0x00,0x00,0x00,0x00,0x20,0x20,0x20,
0x20,0x20,0x20,0x20,0xFC,0x2C,0x24,0x22,0x21,0x20,0x10,0x00,0x00,0x00,0x80,0x42,
0x22,0x12,0xFA,0x56,0x53,0x52,0x52,0x52,0x52,0xFA,0x02,0x01,0x01,0x00,0x00,0x00,
0xFF,0x00,0x1C,0x23,0xC0,0x00,0xFF,0x64,0xA4,0x24,0x24,0xBF,0x40,0x00,0x00,0x00,
0x40,0x20,0x10,0x08,0x06,0x01,0xC0,0x20,0x00,0x03,0x0C,0x18,0x30,0x60,0x00,0x00,
0x00,0x00,0x08,0x08,0xE8,0x28,0x28,0x28,0x28,0xE8,0x04,0x04,0x00,0xFF,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x83,0x81,
0x81,0x81,0x81,0x9F,0x91,0x91,0x91,0x91,0x91,0x9C,0x90,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x90,0xB0,0x9F,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x9F,0x82,0x82,0x82,0x82,0x92,0xB2,0x9F,0x80,0x80,0x80,0x80,0x80,0x80,
0xBF,0x81,0x82,0x82,0x81,0x80,0x9F,0x88,0x81,0x82,0x85,0x88,0x98,0x80,0x80,0x80,
0x80,0x80,0x98,0x94,0x92,0x91,0x90,0x90,0x90,0x8A,0x8E,0x9C,0x90,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x83,0x82,0x82,0x82,0x82,0x83,0x80,0x80,0x90,0x9F,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xFF,
};


uchar code qzd[]={
/*--  调入了一幅图像：C:\Documents and Settings\Administrator\桌面\勤正达介绍.bmp  --*/
/*--  宽度x高度=128x64  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0xE2,0xAF,0xFA,0xAF,0xE2,0x02,0x08,
0xFF,0x08,0x08,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x02,0xF2,0x02,0x02,0x02,0xFE,0x22,0x22,0x32,0x23,0x02,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x22,0xF2,0x24,0x08,0x08,0xC8,0x3F,
0x48,0x88,0x0C,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0xFC,0x24,0x24,0x24,0xFF,0x24,0x24,0x24,0xFE,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x21,0x21,0x21,0x21,0xF9,0x25,
0x23,0x21,0x30,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0A,0x0A,0x0A,0x0F,0x0A,0x0A,0x08,0x06,
0x01,0x04,0x08,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x08,0x08,0x0F,0x08,0x08,0x08,0x0F,0x08,0x08,0x08,0x0C,0x08,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x04,0x03,0x04,0x0A,0x09,0x08,0x08,
0x08,0x08,0x09,0x0A,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,
0x00,0x01,0x01,0x01,0x01,0x07,0x09,0x09,0x09,0x09,0x08,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x08,0x08,0x0F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x3E,0x42,0x38,0x42,0x3E,0x00,0x00,
0x02,0x3E,0x42,0x38,0x42,0x3E,0x00,0x00,0x02,0x3E,0x42,0x38,0x42,0x3E,0x00,0x00,
0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x64,0x4A,0x4A,0x4A,0x36,0x00,0x00,
0x00,0x66,0x52,0x4A,0x46,0x62,0x00,0x00,0x00,0x3C,0x42,0x42,0x44,0xFE,0x00,0x00,
0x00,0x66,0x52,0x4A,0x46,0x62,0x00,0x00,0x00,0x3C,0x42,0x42,0x44,0x7F,0x00,0x00,
0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x3C,0x42,0x42,0x42,0x26,0x00,0x00,
0x00,0x3C,0x42,0x42,0x42,0x3C,0x00,0x00,0x42,0x7E,0x42,0x7C,0x42,0x7C,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x20,0x20,0xFC,0x20,0x40,0xF8,0x40,0xFE,0x20,0x10,0xF8,0x10,0x00,0x00,0x00,0x00,
0x20,0x20,0xFC,0x20,0x00,0xF0,0x00,0x00,0xFE,0x40,0x40,0x40,0x00,0x00,0x00,0x00,
0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x10,0x22,0xC4,0x00,0xAC,0x94,0x8C,0xE4,0x8C,0x94,0xA4,0x8C,0x01,0x01,0x00,0x00,
0x10,0x10,0xFE,0x10,0x10,0x00,0xFE,0x00,0xFC,0x00,0x00,0xFE,0x00,0x00,0x00,0x00,
0x08,0x08,0xE8,0x28,0x28,0x2A,0xFC,0x28,0x28,0xE8,0x0C,0x08,0x00,0x00,0x00,0x00,
0x10,0x0C,0x24,0x24,0x24,0xE6,0x24,0x24,0x34,0x24,0x14,0x0C,0x00,0x00,0x00,0x00,
0x50,0x4C,0x44,0x44,0xC4,0x76,0x44,0x44,0xC4,0x44,0x54,0x4C,0x00,0x00,0x00,0x00,
0x08,0x84,0x87,0x82,0x80,0x8F,0x90,0x93,0x90,0xD1,0x91,0x1C,0x00,0x00,0x00,0x00,
0x08,0x08,0x07,0x14,0xD0,0x1F,0x10,0x90,0x1F,0x10,0x18,0x10,0x00,0x00,0x00,0x00,
0x00,0x00,0x03,0xC3,0x00,0x00,0xC0,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,
0x01,0xDF,0x40,0x48,0x44,0x42,0x41,0x5F,0x41,0xC2,0x04,0x08,0x00,0x00,0x00,0x00,
0x02,0x02,0x93,0x11,0x09,0x04,0x03,0xC0,0x07,0x00,0x00,0x1F,0x00,0x00,0x00,0x00,
0x00,0x00,0xCF,0x00,0x00,0x80,0x9F,0xC0,0x88,0x8F,0x80,0x00,0x00,0x00,0x00,0x00,
0x10,0x10,0xD1,0x11,0x11,0x1F,0x51,0x93,0x15,0x91,0x18,0x10,0x00,0x00,0x00,0x00,
0x10,0x90,0x90,0x8B,0x8A,0x84,0x84,0x86,0x89,0xC8,0x90,0x00,0x00,0x00,0x00,0x00,
0x00,0xFF,0x00,0x42,0x42,0x24,0x18,0x24,0x42,0x00,0x80,0x00,0x00,0x00,0x00,0x00,
0x02,0x02,0x02,0xC2,0x3F,0x82,0x42,0xFE,0x13,0x0A,0x03,0x82,0x00,0x00,0x00,0x00,
0x44,0x42,0x5F,0x40,0x44,0xE4,0x47,0x4A,0x49,0x49,0x68,0x4E,0x00,0x00,0x00,0x00,
0x00,0xFF,0x12,0x12,0x92,0x92,0x7E,0x92,0x12,0x13,0x18,0xD0,0x00,0x00,0x00,0x00,
0x42,0xC4,0x30,0x09,0x04,0xF6,0x15,0x14,0x14,0x15,0xF6,0x0C,0x00,0x00,0x00,0x00,
0x31,0x0D,0xFF,0x09,0x82,0xBE,0xAB,0xEA,0xAA,0xAB,0xBE,0x82,0x00,0x00,0x00,0x00,
0x42,0x42,0x3F,0x22,0x03,0xFD,0x05,0x05,0xFD,0x01,0x01,0x81,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,
0x00,0x03,0x01,0x01,0xF1,0x01,0x01,0xF1,0x01,0x01,0x81,0x01,0x00,0x00,0x00,0x00,
0x02,0xF2,0x11,0x50,0x51,0x50,0x50,0x51,0x12,0x12,0xF2,0x03,0x00,0x00,0x00,0x00,
0x40,0xC0,0xC0,0x40,0x40,0xC3,0xC0,0x00,0x80,0x80,0xF0,0x80,0x80,0x40,0xC0,0x70,
0x40,0x43,0x61,0x41,0x00,0x00,0x00,0x00,0xC1,0xC2,0x42,0x43,0x40,0x40,0x40,0x00,
0x80,0x83,0xF0,0x80,0xA0,0xC3,0x81,0xF1,0x81,0xC1,0xA3,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x02,0x02,0x01,0x00,0x00,0x00,0x01,0x02,0x02,0x03,0x00,0x00,0x00,0x00,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,
0x80,0x83,0x9C,0x80,0xFF,0x80,0x80,0xFF,0x88,0x86,0xC1,0x80,0x00,0x00,0x00,0x00,
0x00,0xFF,0x61,0x51,0x4F,0x41,0x5F,0x51,0x59,0x40,0xFF,0x00,0x00,0x00,0x00,0x00,
0x80,0xFF,0xFF,0x84,0x8E,0xC0,0xE1,0x00,0x0C,0x02,0xFF,0x02,0x44,0x26,0x55,0x84,
0x7F,0x04,0x16,0x64,0x00,0x00,0x00,0x00,0x47,0xC7,0x84,0x84,0x8C,0xFC,0x78,0x00,
0x0C,0x02,0xFF,0x82,0x88,0x5A,0x6D,0x2B,0x58,0x49,0x8A,0x02,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};

uchar code zifu[]={
/*--  调入了一幅图像：C:\Documents and Settings\Administrator\桌面\勤正达网址.bmp  --*/
/*--  宽度x高度=128x64  --*/
0xFF,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xB0,0xF0,0xC0,0xC0,
0xC0,0xFC,0x58,0x40,0x40,0x00,0x00,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0xC0,0xC0,
0xC0,0xC0,0xE0,0x60,0x60,0x60,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x30,0x70,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x0C,0xFC,
0x18,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x70,0xF0,0xD3,0xFE,0xFE,
0x4B,0x68,0x78,0x18,0x10,0x10,0xF0,0xFF,0x1F,0x08,0xF8,0xF8,0x38,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0xF8,0xF0,0x00,0x00,0x00,0x00,
0xFF,0xFF,0x20,0x30,0x30,0x30,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x10,0x10,0x18,0xF8,0x38,0x00,0x00,0x02,0x06,0x86,0xE2,0x7E,0x1F,
0x63,0xE3,0xC3,0x83,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0xC0,0xC2,0xCA,0x4A,0x7F,0x7F,
0x2D,0x2D,0xA1,0x60,0x30,0x1E,0x07,0xC1,0xC0,0xE0,0xFF,0x1F,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x3F,0x3F,0x30,0x10,0x10,0x10,
0x1F,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x30,0x30,0x18,0x1B,0x1F,0x18,0x18,0x34,0x32,0x33,0x60,0x60,0x60,
0xE0,0xE0,0xE1,0xE7,0xE7,0xE0,0x60,0x60,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x00,
0xC0,0x01,0xF8,0xF8,0x00,0xC0,0x00,0xF8,0xF9,0x01,0xC0,0x00,0xF8,0x00,0x00,0x00,
0x00,0x00,0x30,0x48,0x48,0x48,0x90,0x08,0x88,0x48,0x28,0x18,0xF0,0x08,0x88,0x08,
0xF0,0x08,0x88,0x48,0x28,0x18,0xF8,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x00,
0xF0,0x08,0x08,0x08,0x10,0xF0,0x08,0x08,0x08,0xF0,0xF8,0x10,0x60,0x10,0xF8,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x01,
0x00,0x01,0x03,0x03,0x01,0x00,0x01,0x03,0x03,0x01,0x00,0x01,0x03,0x00,0x03,0x03,
0x00,0x00,0x01,0x02,0x02,0x02,0x01,0x03,0x02,0x02,0x02,0x02,0x01,0x02,0x02,0x01,
0x02,0x03,0x02,0x02,0x02,0x02,0x03,0x02,0x02,0x02,0x01,0x00,0x03,0x03,0x00,0x00,
0x01,0x02,0x02,0x02,0x01,0x01,0x02,0x02,0x02,0x01,0x03,0x00,0x00,0x00,0x03,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xFF,
};


void LCD_TEST() 
{
	unsigned int PORT1VAL;
	nBLEN = 0; //打开背光
	rst = 0;
	_nop_();
	rst = 1;

	ca();
	//cs1 = 1; lcd_cs2 = 0;
	rs  =  0;         //指令
	rw  =  1;
	DB  =  0xFF;      //输出0xff以便读取正确
	lcd_en   =  1;	
	PORT1VAL = DB;
	lcd_en	 =	0;
	
	//nca();
	_nop_();

	printf("lcd display DB= %x \n", PORT1VAL);
	//while((DB & 0x80));       //Status Read BUSY Bit7 = 1 
	//printf("lcd display 44 \n");
	//lcd_en   =  0;
	_nop_();
	
	printf("LCD end \n");	
	//DebugStop();
}


